# ─────────────────────────────────────────────────────────────────────────────
# LAPTOP Caddyfile — ~/caktus/caddy/Caddyfile
#
# LOCAL MODE: Access services via localhost or LAN IP (192.168.1.5)
# No domain, no tunnel — just plain local routing by Host header.
# Add entries to /etc/hosts for subdomain routing on LAN.
# ─────────────────────────────────────────────────────────────────────────────

{
    auto_https off
    admin off
}

:80 {

    @landing host caktus.local
    handle @landing {
        reverse_proxy caktus-landing:80
    }

    @hello host hello.caktus.local
    handle @hello {
        reverse_proxy caktus-hello:80
    }

    @portainer host portainer.caktus.local
    handle @portainer {
        reverse_proxy caktus-portainer:9000
    }

    @uptime host status.caktus.local
    handle @uptime {
        reverse_proxy caktus-uptime:3001
    }

    # Default — catch-all serves the landing page
    handle {
        reverse_proxy caktus-landing:80
    }
}
